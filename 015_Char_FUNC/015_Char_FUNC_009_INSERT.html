<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=GBK" />
  <title> 字符函数 - 字符替换 INSERT (MySQL Only) </title>
  <link href="Common.css" rel="stylesheet" type="text/css" />
</head>

<body>


<h1> 字符函数 </h1>


<h2> 字符替换 INSERT (MySQL Only)  </h2>



<table border="1" style="width:100%">

  <tr>
    <td> Oracle </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> DB2 </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> SQL Server </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> MySQL</td>
    <td>
<pre><code>


INSERT(str,pos,len,newstr) 
返回字符串 str, 其子字符串起始于 pos 位置和长期被字符串 newstr取代的len 字符。  
如果pos 超过字符串长度，则返回值为原始字符串。 
假如len的长度大于其它字符串的长度，则从位置pos开始替换。若任何一个参数为null，则返回值为NULL。

mysql> SELECT INSERT('ABCDEFG', 3, 4, 'What')  A;
+---------+
| A       |
+---------+
| ABWhatG |
+---------+
1 row in set (0.00 sec)

mysql> SELECT INSERT('ABCDEFG', -1, 4, 'What')  A;
+---------+
| A       |
+---------+
| ABCDEFG |
+---------+
1 row in set (0.00 sec)

mysql> SELECT INSERT('ABCDEFG', 3, 100, 'What')  A;
+--------+
| A      |
+--------+
| ABWhat |
+--------+
1 row in set (0.00 sec)

</code></pre>
    </td>
  </tr>






  <tr>
    <td> SQLite </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>



  <tr>
    <td> PostgreSQL </td>
    <td>
<pre><code>


Test=# SELECT overlay('ABCDEFG' placing 'What' from 3 for 4);
 overlay
---------
 ABWhatG
(1 行记录)




Test=# SELECT overlay('ABCDEFG' placing 'What' from -1 for 4);
错误:  不允许子串长度为负数



Test=# SELECT overlay('ABCDEFG'  placing 'What' from 3 for 100);
 overlay
---------
 ABWhat
(1 行记录)



</code></pre>
    </td>
  </tr>



</table>




</body>


</html>
