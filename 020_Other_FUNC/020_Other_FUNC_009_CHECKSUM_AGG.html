<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=GBK" />
  <title> 其他函数 -  CHECKSUM与 CHECKSUM_AGG </title>
  <link href="Common.css" rel="stylesheet" type="text/css" />
</head>

<body>


<h1> 其他函数 </h1>


<h2> CHECKSUM与 CHECKSUM_AGG  </h2>



<table border="1" style="width:100%">

  <tr>
    <td> Oracle </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> DB2 </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> SQL Server </td>
    <td>
<pre><code>


对于 CHECKSUM与 CHECKSUM_AGG
可以理解为前者是检查行的。后者是检查列的。


CHECKSUM_AGG 可用于检测表中的更改。
表中行的顺序不影响 CHECKSUM_AGG 的结果。
此外，CHECKSUM_AGG 函数还可与 DISTINCT 关键字和 GROUP BY 子句一起使用。
如果表达式列表中的某个值发生更改，则列表的校验和通常也会更改。
但只在极少数情况下，校验值会保持不变。

1> DROP TABLE #myTable;
2> CREATE TABLE #myTable (id INT, val INT);
3> GO
1> INSERT INTO #myTable VALUES (1, 100);
2> INSERT INTO #myTable VALUES (2, 125);
3> GO

(1 行受影响)
1> SELECT
2>   CHECKSUM_AGG(val)
3> FROM
4>   #myTable;
5> GO

-----------
         25

(1 行受影响)
1>
2> UPDATE #myTable
3> SET val = 150
4> WHERE id = 1;
5> GO

(1 行受影响)
1>
2> SELECT
3>   CHECKSUM_AGG(val)
4> FROM
5>   #myTable;
6> GO

-----------
        235

(1 行受影响)


</code></pre>
    </td>
  </tr>





  <tr>
    <td> MySQL</td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>






  <tr>
    <td> SQLite </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>

</table>




</body>


</html>
