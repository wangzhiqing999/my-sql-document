<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=GBK" />
  <title> 安全函数 - 取得用户名 USER </title>
  <link href="Common.css" rel="stylesheet" type="text/css" />
</head>

<body>


<h1> 安全函数 </h1>


<h2> 取得用户名 USER </h2>



<table border="1" style="width:100%">

  <tr>
    <td> Oracle </td>
    <td>
<pre><code>

SQL> select user from dual;

USER
-----------------------------
HR

</code></pre>
    </td>
  </tr>





  <tr>
    <td> DB2 </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>





  <tr>
    <td> SQL Server </td>
    <td>
<pre><code>


<h4>使用操作系统验证的情况下：</h4>

1> select user
2> go
------------------
dbo
(1 行受影响)


1> SELECT SESSION_USER
2> go
-----------------------
dbo
(1 行受影响)


1> select CURRENT_USER
2> go
---------------------------
dbo
(1 行受影响)


1> select system_user
2> go
------------------------------
TESTPC\Edward
(1 行受影响)


<hr/>
<h4>使用SQL Server 验证的情况下：</h4>


C:\>sqlcmd -S "localhost\SQLEXPRESS" -U test_user
密码:
1> use test
2> go
已将数据库上下文更改为 'test'。

1> select user
2> go
------------------------------------------------
test_user
(1 行受影响)


1> select SESSION_USER
2> go
------------------------------------------------
test_user
(1 行受影响)


1> select CURRENT_USER
2> go
------------------------------------------------
test_user
(1 行受影响)



1> select system_user
2> go
-----------------------
test_user
(1 行受影响)


</code></pre>
    </td>
  </tr>





  <tr>
    <td> MySQL</td>
    <td>
<pre><code>

mysql> SELECT USER();
+----------------+
| USER()         |
+----------------+
| root@localhost |
+----------------+
1 row in set (0.00 sec)

</code></pre>
    </td>
  </tr>






  <tr>
    <td> SQLite </td>
    <td>
<pre><code>


</code></pre>
    </td>
  </tr>



  <tr>
    <td> PostgreSQL </td>
    <td>
<pre><code>


Test=# select current_user;
 current_user
--------------
 postgres
(1 行记录)


Test=# select session_user;
 session_user
--------------
 postgres
(1 行记录)


Test=# select user;
 current_user
--------------
 postgres
(1 行记录)

</code></pre>
    </td>
  </tr>



</table>




</body>


</html>
